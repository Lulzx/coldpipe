{% if total_pages > 1 %}
<ul class="pagination justify-content-center mt-4">
  <li class="page-item{% if page <= 1 %} disabled{% endif %}">
    <a class="page-link" href="?page={{ page - 1 }}{% if status %}&status={{ status }}{% endif %}{% if source %}&source={{ source }}{% endif %}">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><polyline points="15 6 9 12 15 18" /></svg>
      prev
    </a>
  </li>
  {% for p in range(1, total_pages + 1) %}
    {% if p == page or (p >= page - 2 and p <= page + 2) or p == 1 or p == total_pages %}
    <li class="page-item{% if p == page %} active{% endif %}">
      <a class="page-link" href="?page={{ p }}{% if status %}&status={{ status }}{% endif %}{% if source %}&source={{ source }}{% endif %}">{{ p }}</a>
    </li>
    {% elif p == page - 3 or p == page + 3 %}
    <li class="page-item disabled"><span class="page-link">...</span></li>
    {% endif %}
  {% endfor %}
  <li class="page-item{% if page >= total_pages %} disabled{% endif %}">
    <a class="page-link" href="?page={{ page + 1 }}{% if status %}&status={{ status }}{% endif %}{% if source %}&source={{ source }}{% endif %}">
      next
      <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><polyline points="9 6 15 12 9 18" /></svg>
    </a>
  </li>
</ul>
{% endif %}
